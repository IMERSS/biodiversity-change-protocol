---
title: Data synthesis
description: Dealing with messy data
date: 2025-10-02
weight: 2
---

```{r, setup, include=FALSE}
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
```

```{r, echo=FALSE, include=FALSE}
source("R/site_globals.R")
source("scripts/geomUtils.R")
source("scripts/config.R")
library(rmarkdown)
library(dplyr)
library(ggplot2)
```

## Combination of heterogeneous data in baseline analyses

Statistical approaches to modeling biodiversity change are often paralyzed by limitations and deficiencies inherent
in biodiversity dataâ€”especially when historical and contemporary data are combined from multiple sources.

* Data are commonly unstructured, or heterogeneous, lacking consistent attributes or metadata
* Data are often biased toward positive detections (lacking absence information)
* Data may be collected in ways that violate the assumptions of statistical models
* Georeferencing is often generalized based on vague locality information
* Data may be sparse, with few or perhaps only singleton records to vouch for historical populations, especially at local scales

## Baseline analyses offer a practical approach

A practical approach to this difficult situation is to forego any advanced modeling practices *ab initio*
and begin instead with a simple baseline analysis of historical *vs* contemporary sources of biodiversity data.
This approach will generally depend on normalization of species occurrence data across multiple datasets, to support the comparison of historical
and contemporary species records.

{{% pageinfo %}}
Normalization of biodiversity data is a thorny enough problem in its own right and not treated here. For this
tutorial we assume that names are aligned and any ambiguity (synonymy, etc.) is resolved between the data being compared.
{{% /pageinfo %}}

* Best practices are to adhere to [Darwin Core standards](https://dwc.tdwg.org) for species occurrence data.
* Different communities may prefer to adhere to different taxonomic databases. Any taxonomic standard can be observed, as 
long as it results in consistent mapping of taxa between datasets.

### Summarize historical baseline data

```{r}
# How many species were historically reported for Galiano Island, prior to the beginning of the
# Biodiversity Galiano project?

summary <- read.csv("Analysis_inputs/Galiano_Tracheophyta_summary_reviewed_2024-10-07.csv")

reported <- summary %>% filter(Reporting.Status == 'reported')
confirmed <- summary %>% filter(Reporting.Status == 'confirmed')
historical.reports <- rbind(reported, confirmed)

nrow(historical.reports) # There were 607 species historically known to Galiano Island, prior to
# the beginning of the Biodiversity Galiano project

historical.reports.native <- historical.reports %>% filter(Origin == 'native')

nrow(historical.reports.native) # There were 309 native plant species reported for Galiano Island
# prior to the beginning of the BioGaliano project

# How many species were documented by 2020?
  
confirmed$year.confirmed <- as.numeric(substr(confirmed$First.Observed, start = 1, stop = 4))

confirmed.prior.2020 <- confirmed %>% filter(year.confirmed < 2020)

confirmed.prior.2020$year.confirmed <- NULL

nrow(confirmed.prior.2020) # 433/607 historical records confirmed by 2020

at.large.2020 <- anti_join(historical.reports, confirmed.prior.2020)
nrow(at.large.2020) # 174 species remained at large by 2020

native.at.large.2020 <- at.large.2020 %>% filter(Origin == 'native')
nrow(native.at.large.2020)
```


```{r, message=FALSE, echo=FALSE}
paged_table(native.at.large.2020)
```
